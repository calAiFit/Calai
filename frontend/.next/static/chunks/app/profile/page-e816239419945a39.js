(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[636],{1100:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>y});var i=r(5155),a=r(1976),l=r(1657),n=r(5695),s=r(2115),o=r(6903);function d(){return(0,i.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,i.jsxs)("div",{className:"space-y-4 text-center",children:[(0,i.jsx)("div",{className:"animate-spin h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Loading your profile..."})]})})}var u=r(6766);function c(e){var t,r,a;let{profile:l,user:n,isEditing:s,onToggleEdit:o}=e;return(0,i.jsxs)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-8 flex flex-col items-center",children:[(0,i.jsx)("div",{className:"relative w-28 h-28 mb-4",children:(null==l?void 0:l.avatarUrl)?(0,i.jsx)(u.default,{src:l.avatarUrl,alt:"Profile",width:112,height:112,className:"rounded-full object-cover border-4 border-purple-500 shadow-lg",unoptimized:!0}):(0,i.jsx)("div",{className:"w-28 h-28 rounded-full bg-gradient-to-br from-purple-400 to-blue-400 flex items-center justify-center text-white text-3xl font-bold shadow-lg",children:(null==l||null==(t=l.name)?void 0:t.charAt(0))||(null==n||null==(r=n.firstName)?void 0:r.charAt(0))||"U"})}),(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:(null==l?void 0:l.name)||(null==n?void 0:n.firstName)||"User"}),(0,i.jsx)("p",{className:"text-gray-600 mb-6",children:null==n||null==(a=n.emailAddresses[0])?void 0:a.emailAddress}),(0,i.jsx)("button",{onClick:o,className:"px-5 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium hover:opacity-90 transition",children:s?"Cancel":"Edit Profile"})]})}var g=r(9852);function h(e){let{label:t,value:r,onChange:a,type:l="text"}=e;return(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:t}),(0,i.jsx)(g.p,{value:r,onChange:e=>a(e.target.value),className:"w-full",placeholder:"Enter your ".concat(t.toLowerCase()),type:l})]})}function m(e){let{formData:t,onInputChange:r,onSubmit:a,onCancel:l,submitting:n}=e;return(0,i.jsxs)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-8 space-y-6",children:[(0,i.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Edit Profile"}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,i.jsx)(h,{label:"Name",value:t.name,onChange:e=>r("name",e)}),(0,i.jsx)(h,{label:"Age",type:"number",value:t.age,onChange:e=>r("age",e)}),(0,i.jsx)(h,{label:"Height (cm)",type:"number",value:t.height,onChange:e=>r("height",e)}),(0,i.jsx)(h,{label:"Weight (kg)",type:"number",value:t.weight,onChange:e=>r("weight",e)}),(0,i.jsx)(h,{label:"Target Weight (kg)",type:"number",value:t.targetWeight,onChange:e=>r("targetWeight",e)}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Gender"}),(0,i.jsxs)("select",{value:t.gender,onChange:e=>r("gender",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,i.jsx)("option",{value:"",children:"Select gender"}),(0,i.jsx)("option",{value:"male",children:"Male"}),(0,i.jsx)("option",{value:"female",children:"Female"})]})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity Level"}),(0,i.jsxs)("select",{value:t.activityLevel,onChange:e=>r("activityLevel",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500",children:[(0,i.jsx)("option",{value:"",children:"Select activity level"}),(0,i.jsx)("option",{value:"sedentary",children:"Sedentary (little or no exercise)"}),(0,i.jsx)("option",{value:"light",children:"Light (1-3 days/week)"}),(0,i.jsx)("option",{value:"moderate",children:"Moderate (3-5 days/week)"}),(0,i.jsx)("option",{value:"active",children:"Active (6-7 days/week)"}),(0,i.jsx)("option",{value:"veryActive",children:"Very Active (twice/day)"})]})]}),(0,i.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,i.jsx)("button",{onClick:l,className:"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50",children:"Cancel"}),(0,i.jsx)("button",{onClick:a,disabled:n,className:"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-medium hover:opacity-90 transition disabled:opacity-50",children:n?"Saving...":"Save Changes"})]})]})}function p(e){let{label:t,value:r,color:a}=e;return(0,i.jsxs)("div",{className:"rounded-xl p-6 text-center bg-gradient-to-br ".concat(a," text-white shadow-md"),children:[(0,i.jsx)("div",{className:"text-3xl font-bold mb-1",children:r}),(0,i.jsx)("div",{className:"text-sm",children:t})]})}function x(e){let{title:t,value:r,description:a}=e;return(0,i.jsxs)("div",{className:"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-6",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:t}),(0,i.jsx)("div",{className:"text-2xl font-bold text-gray-800 mb-1",children:r}),(0,i.jsx)("p",{className:"text-sm text-gray-600",children:a})]})}var v=r(6408);function f(e){let{currentWeight:t,targetWeight:r}=e,a=Math.min(100,Math.max(0,(t-r)/Math.abs(t-r+.1)*50+50)),l=Math.abs(t-r),n=t>r;return(0,i.jsxs)(v.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-8",children:[(0,i.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Weight Progress"}),(0,i.jsxs)("div",{className:"space-y-2",children:[(0,i.jsxs)("div",{className:"flex justify-between text-sm text-gray-600",children:[(0,i.jsxs)("span",{children:["Current: ",t,"kg"]}),(0,i.jsxs)("span",{children:["Target: ",r,"kg"]})]}),(0,i.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3 overflow-hidden",children:(0,i.jsx)(v.P.div,{initial:{width:0},animate:{width:"".concat(a,"%")},transition:{duration:1},className:"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full"})}),(0,i.jsx)("div",{className:"text-sm text-gray-600 text-center",children:n?"".concat(l.toFixed(1),"kg to lose"):"".concat(l.toFixed(1),"kg to gain")})]})]})}function b(e){var t;let{profile:r}=e,a=()=>(null==r?void 0:r.weight)&&(null==r?void 0:r.height)?(r.weight/(r.height/100)**2).toFixed(1):null;return(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[(0,i.jsx)(p,{label:"Age",value:(null==r?void 0:r.age)||"N/A",color:"from-purple-500 to-pink-500"}),(0,i.jsx)(p,{label:"Height",value:(null==r?void 0:r.height)?"".concat(r.height," cm"):"N/A",color:"from-blue-500 to-indigo-500"}),(0,i.jsx)(p,{label:"Weight",value:(null==r?void 0:r.weight)?"".concat(r.weight," kg"):"N/A",color:"from-green-500 to-emerald-500"}),(0,i.jsx)(p,{label:"Target",value:(null==r?void 0:r.targetWeight)?"".concat(r.targetWeight," kg"):"N/A",color:"from-orange-500 to-red-500"})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,i.jsx)(x,{title:"BMI",value:a()||"N/A",description:(e=>{if(!e)return"Enter height & weight to calculate BMI";let t=parseFloat(e);return t<18.5?"Underweight":t<25?"Normal weight":t<30?"Overweight":"Obese"})(a())}),(0,i.jsx)(x,{title:"Activity Level",value:(null==r||null==(t=r.activityLevel)?void 0:t.replace(/([A-Z])/g," $1").trim())||"Not set",description:(e=>{switch(e){case"sedentary":return"Little or no exercise";case"light":return"Light exercise 1-3 days/week";case"moderate":return"Moderate exercise 3-5 days/week";case"active":return"Heavy exercise 6-7 days/week";case"veryActive":return"Very heavy exercise twice/day";default:return""}})(null==r?void 0:r.activityLevel)})]}),(null==r?void 0:r.weight)&&(null==r?void 0:r.targetWeight)&&(0,i.jsx)(f,{currentWeight:r.weight,targetWeight:r.targetWeight})]})}function y(){let{user:e,isLoaded:t}=(0,a.Jd)(),r=(0,n.useRouter)(),[u,g]=(0,s.useState)(!0),[h,p]=(0,s.useState)(!1),[x,f]=(0,s.useState)(null),[y,j]=(0,s.useState)(null),[w,N]=(0,s.useState)(!1),[k,P]=(0,s.useState)({name:"",age:"",gender:"",height:"",weight:"",targetWeight:"",activityLevel:""}),S=(0,s.useCallback)(async()=>{var t,i,a,l,n;try{let r=await o.A.get("/profile");if(r.data.profile){let n=r.data.profile;f(n),P({name:n.name||(null==e?void 0:e.firstName)||"",age:(null==(t=n.age)?void 0:t.toString())||"",gender:n.gender||"",height:(null==(i=n.height)?void 0:i.toString())||"",weight:(null==(a=n.weight)?void 0:a.toString())||"",targetWeight:(null==(l=n.targetWeight)?void 0:l.toString())||"",activityLevel:n.activityLevel||""})}}catch(e){if(console.error("Error fetching profile:",e),(null==(n=e.response)?void 0:n.status)===401)return void r.push("/sign-in");j("Failed to load profile data")}finally{g(!1)}},[e,r]);(0,s.useEffect)(()=>{if(t){if(!e)return void r.push("/sign-in");S()}},[t,e,r,S]);let A=async()=>{j(null),p(!0);try{let e=[];if(k.name.trim()||e.push("Name is required."),(!k.age||isNaN(Number(k.age)))&&e.push("Valid age is required."),(!k.height||isNaN(Number(k.height)))&&e.push("Valid height is required."),(!k.weight||isNaN(Number(k.weight)))&&e.push("Valid weight is required."),(!k.targetWeight||isNaN(Number(k.targetWeight)))&&e.push("Valid target weight is required."),k.gender||e.push("Gender is required."),k.activityLevel||e.push("Activity level is required."),e.length>0){j(e.join(" ")),p(!1);return}let t={name:k.name,age:Number(k.age),height:Number(k.height),weight:Number(k.weight),targetWeight:Number(k.targetWeight),gender:k.gender,activityLevel:k.activityLevel},r=await o.A.post("/profile",t);r.data.profile&&(f(r.data.profile),N(!1),await S())}catch(e){console.error("Error updating profile:",e),j("Failed to update profile. Please try again.")}finally{p(!1)}};return e?u?(0,i.jsx)(d,{}):(0,i.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-purple-100 via-blue-50 to-indigo-100",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto px-6 py-10 grid lg:grid-cols-3 gap-8",children:[(0,i.jsx)(v.P.div,{initial:{opacity:0,x:-40},animate:{opacity:1,x:0},transition:{duration:.5},className:"lg:col-span-1",children:(0,i.jsx)(c,{profile:x,user:e,isEditing:w,onToggleEdit:()=>N(!w)})}),(0,i.jsxs)(v.P.div,{initial:{opacity:0,x:40},animate:{opacity:1,x:0},transition:{duration:.6},className:"lg:col-span-2 space-y-8",children:[y&&(0,i.jsx)("div",{className:"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:y}),w?(0,i.jsx)(m,{formData:k,onInputChange:(e,t)=>{P(r=>({...r,[e]:t}))},onSubmit:A,onCancel:()=>N(!1),submitting:h}):(0,i.jsx)(b,{profile:x})]})]})}):(0,i.jsx)(l.SignIn,{redirectUrl:"/profile"})}},1569:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return l}});let i=r(2115),a=r(901);function l(){return(0,i.useContext)(a.RouterContext)}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},1657:(e,t,r)=>{"use strict";r.d(t,{APIKeys:()=>i.Lq,CreateOrganization:()=>i.ul,GoogleOneTap:()=>i.PQ,OrganizationList:()=>i.oE,OrganizationProfile:()=>g,OrganizationSwitcher:()=>i.NC,PricingTable:()=>i.nm,SignIn:()=>h,SignInButton:()=>i.hZ,SignInWithMetamaskButton:()=>i.M_,SignOutButton:()=>i.ct,SignUp:()=>m,SignUpButton:()=>i.Ny,UserButton:()=>i.uF,UserProfile:()=>c,Waitlist:()=>i.cP});var i=r(1976),a=r(2115),l=r(8572),n=r(8416),s=r(6299);let o=(e,t,r,l=!0)=>{let o=a.useRef(0),{pagesRouter:d}=(0,s.r)(),{session:u,isLoaded:c}=(0,i.wV)();(0,n.Fj)()||a.useEffect(()=>{if(!c||r&&"path"!==r||l&&!u)return;let i=new AbortController,a=()=>{let r=d?`${t}/[[...index]].tsx`:`${t}/[[...rest]]/page.tsx`;throw Error(`
Clerk: The <${e}/> component is not configured correctly. The most likely reasons for this error are:

1. The "${t}" route is not a catch-all route.
It is recommended to convert this route to a catch-all route, eg: "${r}". Alternatively, you can update the <${e}/> component to use hash-based routing by setting the "routing" prop to "hash".

2. The <${e}/> component is mounted in a catch-all route, but all routes under "${t}" are protected by the middleware.
To resolve this, ensure that the middleware does not protect the catch-all route or any of its children. If you are using the "createRouteMatcher" helper, consider adding "(.*)" to the end of the route pattern, eg: "${t}(.*)". For more information, see: https://clerk.com/docs/references/nextjs/clerk-middleware#create-route-matcher
`)};return d?d.pathname.match(/\[\[\.\.\..+]]/)||a():(async()=>{let t;if(o.current++,!(o.current>1)){try{let r=`${window.location.origin}${window.location.pathname}/${e}_clerk_catchall_check_${Date.now()}`;t=await fetch(r,{signal:i.signal})}catch{}(null==t?void 0:t.status)===404&&a()}})(),()=>{o.current>1&&i.abort()}},[c])},d=()=>{let e=a.useRef(),{pagesRouter:t}=(0,s.r)();if(t)if(e.current)return e.current;else return e.current=t.pathname.replace(/\/\[\[\.\.\..*/,""),e.current;let i=r(5695).usePathname,l=r(5695).useParams,n=(i()||"").split("/").filter(Boolean),o=Object.values(l()||{}).filter(e=>Array.isArray(e)).flat(1/0);return e.current||(e.current=`/${n.slice(0,n.length-o.length).join("/")}`),e.current};function u(e,t,r=!0){let i=d(),a=(0,l.yC)(e,t,{path:i});return o(e,i,a.routing,r),a}let c=Object.assign(e=>a.createElement(i.Fv,{...u("UserProfile",e)}),{...i.Fv}),g=Object.assign(e=>a.createElement(i.nC,{...u("OrganizationProfile",e)}),{...i.nC}),h=e=>a.createElement(i.Ls,{...u("SignIn",e,!1)}),m=e=>a.createElement(i.Hx,{...u("SignUp",e,!1)})},3999:(e,t,r)=>{"use strict";r.d(t,{cn:()=>l});var i=r(2596),a=r(9688);function l(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,a.QP)((0,i.$)(t))}},5583:(e,t,r)=>{e.exports=r(1569)},5695:(e,t,r)=>{"use strict";var i=r(8999);r.o(i,"useParams")&&r.d(t,{useParams:function(){return i.useParams}}),r.o(i,"usePathname")&&r.d(t,{usePathname:function(){return i.usePathname}}),r.o(i,"useRouter")&&r.d(t,{useRouter:function(){return i.useRouter}}),r.o(i,"useSelectedLayoutSegments")&&r.d(t,{useSelectedLayoutSegments:function(){return i.useSelectedLayoutSegments}})},6299:(e,t,r)=>{"use strict";r.d(t,{r:()=>a});var i=r(5583);let a=()=>({pagesRouter:(0,i.useRouter)()})},6903:(e,t,r)=>{"use strict";r.d(t,{A:()=>a});let i=r(3464).A.create({baseURL:"/api",timeout:1e4});i.interceptors.request.use(e=>e,e=>Promise.reject(e)),i.interceptors.response.use(e=>e,e=>{var t;return(null==e||null==(t=e.response)?void 0:t.status)===401?console.log("Authentication required"):console.error("API Error:",e),Promise.reject(e)});let a=i},7702:(e,t,r)=>{Promise.resolve().then(r.bind(r,1100))},8572:(e,t,r)=>{"use strict";r.d(t,{T5:()=>a.T5,hP:()=>i.hP,nO:()=>a.nO,yC:()=>l});var i=r(4076),a=r(5006);function l(e,t,r){let a=t.path||(null==r?void 0:r.path);return"path"===(t.routing||(null==r?void 0:r.routing)||"path")?a?{...r,...t,routing:"path"}:i.sb.throw((0,i.kd)(e)):t.path?i.sb.throw((0,i.s7)(e)):{...r,...t,path:void 0}}},9852:(e,t,r)=>{"use strict";r.d(t,{p:()=>l});var i=r(5155);r(2115);var a=r(3999);function l(e){let{className:t,type:r,...l}=e;return(0,i.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...l})}}},e=>{var t=t=>e(e.s=t);e.O(0,[976,408,692,766,441,684,358],()=>t(7702)),_N_E=e.O()}]);