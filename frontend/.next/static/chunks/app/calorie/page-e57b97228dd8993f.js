(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[689],{760:(e,t,s)=>{"use strict";s.d(t,{N:()=>b});var a=s(5155),r=s(2115),l=s(869),n=s(2885),i=s(7494),o=s(845),d=s(7351),c=s(1508);class u extends r.Component{getSnapshotBeforeUpdate(e){let t=this.props.childRef.current;if(t&&e.isPresent&&!this.props.isPresent){let e=t.offsetParent,s=(0,d.s)(e)&&e.offsetWidth||0,a=this.props.sizeRef.current;a.height=t.offsetHeight||0,a.width=t.offsetWidth||0,a.top=t.offsetTop,a.left=t.offsetLeft,a.right=s-a.width-a.left}return null}componentDidUpdate(){}render(){return this.props.children}}function x(e){let{children:t,isPresent:s,anchorX:l}=e,n=(0,r.useId)(),i=(0,r.useRef)(null),o=(0,r.useRef)({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=(0,r.useContext)(c.Q);return(0,r.useInsertionEffect)(()=>{let{width:e,height:t,top:a,left:r,right:c}=o.current;if(s||!i.current||!e||!t)return;i.current.dataset.motionPopId=n;let u=document.createElement("style");return d&&(u.nonce=d),document.head.appendChild(u),u.sheet&&u.sheet.insertRule('\n          [data-motion-pop-id="'.concat(n,'"] {\n            position: absolute !important;\n            width: ').concat(e,"px !important;\n            height: ").concat(t,"px !important;\n            ").concat("left"===l?"left: ".concat(r):"right: ".concat(c),"px !important;\n            top: ").concat(a,"px !important;\n          }\n        ")),()=>{document.head.contains(u)&&document.head.removeChild(u)}},[s]),(0,a.jsx)(u,{isPresent:s,childRef:i,sizeRef:o,children:r.cloneElement(t,{ref:i})})}let m=e=>{let{children:t,initial:s,isPresent:l,onExitComplete:i,custom:d,presenceAffectsLayout:c,mode:u,anchorX:m}=e,g=(0,n.M)(h),p=(0,r.useId)(),f=!0,b=(0,r.useMemo)(()=>(f=!1,{id:p,initial:s,isPresent:l,custom:d,onExitComplete:e=>{for(let t of(g.set(e,!0),g.values()))if(!t)return;i&&i()},register:e=>(g.set(e,!1),()=>g.delete(e))}),[l,g,i]);return c&&f&&(b={...b}),(0,r.useMemo)(()=>{g.forEach((e,t)=>g.set(t,!1))},[l]),r.useEffect(()=>{l||g.size||!i||i()},[l]),"popLayout"===u&&(t=(0,a.jsx)(x,{isPresent:l,anchorX:m,children:t})),(0,a.jsx)(o.t.Provider,{value:b,children:t})};function h(){return new Map}var g=s(2082);let p=e=>e.key||"";function f(e){let t=[];return r.Children.forEach(e,e=>{(0,r.isValidElement)(e)&&t.push(e)}),t}let b=e=>{let{children:t,custom:s,initial:o=!0,onExitComplete:d,presenceAffectsLayout:c=!0,mode:u="sync",propagate:x=!1,anchorX:h="left"}=e,[b,y]=(0,g.xQ)(x),j=(0,r.useMemo)(()=>f(t),[t]),v=x&&!b?[]:j.map(p),N=(0,r.useRef)(!0),w=(0,r.useRef)(j),k=(0,n.M)(()=>new Map),[C,_]=(0,r.useState)(j),[P,A]=(0,r.useState)(j);(0,i.E)(()=>{N.current=!1,w.current=j;for(let e=0;e<P.length;e++){let t=p(P[e]);v.includes(t)?k.delete(t):!0!==k.get(t)&&k.set(t,!1)}},[P,v.length,v.join("-")]);let S=[];if(j!==C){let e=[...j];for(let t=0;t<P.length;t++){let s=P[t],a=p(s);v.includes(a)||(e.splice(t,0,s),S.push(s))}return"wait"===u&&S.length&&(e=S),A(f(e)),_(j),null}let{forceRender:E}=(0,r.useContext)(l.L);return(0,a.jsx)(a.Fragment,{children:P.map(e=>{let t=p(e),r=(!x||!!b)&&(j===P||v.includes(t));return(0,a.jsx)(m,{isPresent:r,initial:(!N.current||!!o)&&void 0,custom:s,presenceAffectsLayout:c,mode:u,onExitComplete:r?void 0:()=>{if(!k.has(t))return;k.set(t,!0);let e=!0;k.forEach(t=>{t||(e=!1)}),e&&(null==E||E(),A(w.current),x&&(null==y||y()),d&&d())},anchorX:h,children:e},t)})})}},3999:(e,t,s)=>{"use strict";s.d(t,{cn:()=>l});var a=s(2596),r=s(9688);function l(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},4012:(e,t,s)=>{Promise.resolve().then(s.bind(s,5099))},5099:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>v});var a=s(5155),r=s(2115),l=s(1976),n=s(6903),i=s(3464),o=s(6766),d=s(760),c=s(6408);function u(e){let{isVisible:t,foodName:s,calories:r,protein:l,carbs:n,fats:i,onClose:o}=e;return(0,a.jsx)(d.N,{children:t&&(0,a.jsxs)(c.P.div,{initial:{opacity:0,y:50,scale:.9},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-50,scale:.9},transition:{duration:.3,ease:"easeOut"},className:"fixed bottom-4 right-4 z-50 bg-white rounded-xl shadow-lg border border-gray-200 p-4 max-w-sm",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-3",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-4 h-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,a.jsx)("h3",{className:"font-semibold text-gray-900",children:"Added to Daily Intake!"})]}),(0,a.jsx)("button",{onClick:o,className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"mb-3",children:[(0,a.jsx)("p",{className:"text-sm font-medium text-gray-900 mb-2",children:s}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-2 text-xs",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"font-semibold text-purple-600",children:r}),(0,a.jsx)("div",{className:"text-gray-500",children:"kcal"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"font-semibold text-blue-600",children:[l,"g"]}),(0,a.jsx)("div",{className:"text-gray-500",children:"protein"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"font-semibold text-green-600",children:[n,"g"]}),(0,a.jsx)("div",{className:"text-gray-500",children:"carbs"})]}),(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"font-semibold text-orange-600",children:[i,"g"]}),(0,a.jsx)("div",{className:"text-gray-500",children:"fats"})]})]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,a.jsx)("span",{children:"Progress updated in real-time"})]})]})})}let x="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",m="234821e5",h="1b1e89959c5e626749bb6ce4e1c6eda3",g=function(e){let{onIntakeAdded:t}=e,[s,l]=(0,r.useState)(null),[n,d]=(0,r.useState)(""),[c,g]=(0,r.useState)(null),[p,f]=(0,r.useState)(100),[b,y]=(0,r.useState)(!1),[j,v]=(0,r.useState)(null),[N,w]=(0,r.useState)(!1),[k,C]=(0,r.useState)(!1),[_,P]=(0,r.useState)(!1),[A,S]=(0,r.useState)({calories:0,protein:0,carbs:0,fats:0}),[E,I]=(0,r.useState)(!1),[M,L]=(0,r.useState)({name:"",calories:0,protein:0,carbs:0,fats:0});async function F(e){var t,s,a,r;if(!x)throw Error("Hugging Face API token not configured. Please add NEXT_PUBLIC_HF_TOKEN to your environment variables.");try{let a=await i.A.post("https://api-inference.huggingface.co/models/".concat("google/vit-base-patch16-224"),{inputs:e},{headers:{Authorization:"Bearer ".concat(x),"Content-Type":"application/json"},timeout:3e4});if(401===a.status)throw Error("Invalid Hugging Face API token. Please check your NEXT_PUBLIC_HF_TOKEN environment variable.");if(503===a.status)throw Error("Hugging Face model is loading. Please try again in a few moments.");let r=null==(s=a.data)||null==(t=s[0])?void 0:t.label;if(!r)throw Error("Food detection failed - no label returned from model");return r}catch(t){if(t&&"object"==typeof t&&"response"in t){if((null==(a=t.response)?void 0:a.status)===401)throw Error("Authentication failed. Please check your Hugging Face API token.");if((null==(r=t.response)?void 0:r.status)===429)throw Error("Rate limit exceeded. Please try again later.")}if(t&&"object"==typeof t&&"code"in t&&"ECONNABORTED"===t.code)throw Error("Request timeout. The model might be loading. Please try again.");let e=t instanceof Error?t.message:"Unknown error";throw Error("Food detection failed: ".concat(e))}}async function T(e){if(!m||!h)throw Error("Nutritionix API credentials not configured. Please add NEXT_PUBLIC_NUTRITIONIX_APP_ID and NEXT_PUBLIC_NUTRITIONIX_APP_KEY to your environment variables.");let t="".concat(p," grams ").concat(e);try{let s=await fetch("https://trackapi.nutritionix.com/v2/natural/nutrients",{method:"POST",headers:{"x-app-id":m,"x-app-key":h,"Content-Type":"application/json"},body:JSON.stringify({query:t})});if(401===s.status)throw Error("Invalid Nutritionix API credentials. Please check your API keys.");if(429===s.status)throw Error("Nutritionix rate limit exceeded. Please try again later.");if(!s.ok){let e=await s.text();throw Error("Nutritionix API error: ".concat(e))}let a=await s.json();if(!a.foods||0===a.foods.length)throw Error('No nutrition data found for "'.concat(e,'". Please try a different food item.'));return a.foods[0]}catch(t){let e=t instanceof Error?t.message:"Unknown error";if(e.includes("Nutritionix"))throw t;throw Error("Failed to fetch nutrition data: ".concat(e))}}let B=async()=>{if(s){v(null),g(null),y(!0);try{let e=await F(s),t=await T(e);g(t);try{await fetch("/api/food-recognition",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:s,foodName:e,confidence:.85,calories:t.nf_calories,protein:t.nf_protein,carbs:t.nf_total_carbohydrate,fats:t.nf_total_fat})})}catch(e){console.warn("Failed to save food recognition:",e)}}catch(e){v(e instanceof Error?e.message:"Unexpected error")}finally{y(!1)}}},U=async e=>{var t;let s=null==(t=e.target.files)?void 0:t[0];s&&l(await new Promise((e,t)=>{let a=new FileReader;a.onload=()=>{"string"==typeof a.result?e(a.result):t(Error("Failed to read file"))},a.onerror=()=>t(Error("Failed to read file")),a.readAsDataURL(s)}))},R=async()=>{if(n.trim()){v(null),g(null),w(!0);try{let e=await T(n);g(e);try{await fetch("/api/food-recognition",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({imageUrl:"",foodName:n,confidence:1,calories:e.nf_calories,protein:e.nf_protein,carbs:e.nf_total_carbohydrate,fats:e.nf_total_fat})})}catch(e){console.warn("Failed to save food recognition:",e)}}catch(e){v(e instanceof Error?e.message:"Food not found")}finally{w(!1)}}},O=(e,t)=>{S(s=>({...s,[e]:Math.max(0,t)}))},H=async()=>{if(c){C(!0),v(null);try{await i.A.post("/api/intake-history",{foodName:c.food_name,calories:Math.round(c.nf_calories),protein:Math.round(c.nf_protein),carbs:Math.round(c.nf_total_carbohydrate),fats:Math.round(c.nf_total_fat)}),L({name:c.food_name,calories:Math.round(c.nf_calories),protein:Math.round(c.nf_protein),carbs:Math.round(c.nf_total_carbohydrate),fats:Math.round(c.nf_total_fat)}),I(!0),g(null),l(null),d(""),P(!1),S({calories:0,protein:0,carbs:0,fats:0}),setTimeout(()=>{I(!1)},4e3),t&&t()}catch(e){v(e instanceof Error?e.message:"Failed to add to daily intake")}finally{C(!1)}}},D=x&&m&&h;return(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Food Nutrition Analyzer"}),(0,a.jsx)("p",{className:"text-sm text-gray-500 text-center",children:"Analyze food nutrition using image upload or search"}),!D&&(0,a.jsx)("div",{className:"w-full p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-start gap-3",children:[(0,a.jsx)("div",{className:"text-yellow-600",children:"⚠️"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"font-medium text-yellow-800 mb-1",children:"API Configuration Required"}),(0,a.jsx)("p",{className:"text-sm text-yellow-700 mb-2",children:"To use the food analyzer, you need to configure API keys:"}),(0,a.jsxs)("ul",{className:"text-xs text-yellow-600 space-y-1",children:[(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Hugging Face:"})," Get token from ",(0,a.jsx)("a",{href:"https://huggingface.co/settings/tokens",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"huggingface.co/settings/tokens"})]}),(0,a.jsxs)("li",{children:["• ",(0,a.jsx)("strong",{children:"Nutritionix:"})," Get API keys from ",(0,a.jsx)("a",{href:"https://www.nutritionix.com/business/api",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"nutritionix.com/business/api"})]})]}),(0,a.jsxs)("p",{className:"text-xs text-yellow-600 mt-2",children:["Add them to your ",(0,a.jsx)("code",{children:".env"})," file as NEXT_PUBLIC_HF_TOKEN, NEXT_PUBLIC_NUTRITIONIX_APP_ID, and NEXT_PUBLIC_NUTRITIONIX_APP_KEY"]})]})]})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 gap-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("label",{className:"flex flex-col items-center justify-center w-full h-24 bg-gray-50 rounded-xl border-2 border-dashed border-gray-300 cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center pt-3 pb-4",children:[(0,a.jsx)("svg",{className:"w-8 h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,a.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:[(0,a.jsx)("span",{className:"font-medium text-gray-700",children:"Click to upload"})," ","or drag and drop"]}),(0,a.jsx)("p",{className:"text-xs text-gray-400",children:"SVG, PNG, JPG or GIF (MAX. 800x400px)"})]}),(0,a.jsx)("input",{type:"file",accept:"image/*",onChange:U,className:"hidden"})]}),s&&(0,a.jsxs)("div",{className:"relative w-full h-48 mt-4",children:[(0,a.jsx)(o.default,{src:s,alt:"Selected",fill:!0,className:"object-contain rounded-xl"}),(0,a.jsx)("button",{onClick:()=>l(null),className:"absolute -top-2 -right-2 bg-gray-50 text-gray-700 rounded-full p-1 hover:bg-gray-100 transition-colors",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Grams:"}),(0,a.jsx)("input",{type:"number",min:1,value:p,onChange:e=>f(Number(e.target.value)),className:"w-24 px-3 py-2 rounded-xl bg-white border border-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"})]}),(0,a.jsx)("button",{disabled:b||!s||!D,onClick:B,className:"w-full mt-4 py-2 px-4 bg-purple-600 hover:bg-purple-700 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:b?"Analyzing...":D?"Analyze Image":"Configure API Keys First"})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("input",{type:"text",value:n,onChange:e=>d(e.target.value),placeholder:"Search food...",className:"w-full px-3 py-2 rounded-xl bg-white border border-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500"}),(0,a.jsx)("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2",children:(0,a.jsx)("button",{disabled:N||!D,onClick:R,className:"bg-gradient-to-r from-purple-600 to-purple-700 hover:from-purple-700 hover:to-purple-800 text-white px-2 py-1 rounded-full disabled:opacity-50 disabled:cursor-not-allowed",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})})]}),N&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-purple-600"})})]})]}),j&&(0,a.jsx)("div",{className:"mt-3 p-2 rounded-lg bg-red-50 text-red-600 text-sm",children:j}),c&&(0,a.jsxs)("div",{className:"mt-3 bg-purple-50 p-4 rounded-xl",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:c.food_name}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:[p,"g serving"]}),!_&&(0,a.jsx)("button",{onClick:()=>{c&&(P(!0),S({calories:Math.round(c.nf_calories),protein:Math.round(c.nf_protein),carbs:Math.round(c.nf_total_carbohydrate),fats:Math.round(c.nf_total_fat)}))},className:"p-1 text-gray-500 hover:text-purple-600 transition-colors",title:"Edit nutritional values",children:(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})})})]})]}),_?(0,a.jsxs)("div",{className:"space-y-4 mb-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Calories (kcal)"}),(0,a.jsx)("input",{type:"number",min:"0",value:A.calories,onChange:e=>O("calories",Number(e.target.value)),className:"w-full px-2 py-1 text-sm rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Protein (g)"}),(0,a.jsx)("input",{type:"number",min:"0",value:A.protein,onChange:e=>O("protein",Number(e.target.value)),className:"w-full px-2 py-1 text-sm rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Carbs (g)"}),(0,a.jsx)("input",{type:"number",min:"0",value:A.carbs,onChange:e=>O("carbs",Number(e.target.value)),className:"w-full px-2 py-1 text-sm rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-purple-500"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-xs text-gray-600 mb-1",children:"Fats (g)"}),(0,a.jsx)("input",{type:"number",min:"0",value:A.fats,onChange:e=>O("fats",Number(e.target.value)),className:"w-full px-2 py-1 text-sm rounded border border-gray-300 focus:outline-none focus:ring-1 focus:ring-purple-500"})]})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{onClick:()=>{c&&(g({...c,nf_calories:A.calories,nf_protein:A.protein,nf_total_carbohydrate:A.carbs,nf_total_fat:A.fats}),P(!1))},className:"flex-1 py-1 px-3 bg-green-600 hover:bg-green-700 text-white text-sm rounded-lg transition-colors",children:"Save Changes"}),(0,a.jsx)("button",{onClick:()=>{P(!1),S({calories:0,protein:0,carbs:0,fats:0})},className:"flex-1 py-1 px-3 bg-gray-500 hover:bg-gray-600 text-white text-sm rounded-lg transition-colors",children:"Cancel"})]})]}):(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-3 text-sm mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Calories:"}),(0,a.jsxs)("p",{className:"text-gray-900 font-medium",children:[Math.round(c.nf_calories||0)," kcal"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Protein:"}),(0,a.jsxs)("p",{className:"text-gray-900 font-medium",children:[Math.round(c.nf_protein||0)," g"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Fat:"}),(0,a.jsxs)("p",{className:"text-gray-900 font-medium",children:[Math.round(c.nf_total_fat||0)," g"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-gray-600",children:"Carbs:"}),(0,a.jsxs)("p",{className:"text-gray-900 font-medium",children:[Math.round(c.nf_total_carbohydrate||0)," g"]})]})]}),(0,a.jsx)("button",{onClick:H,disabled:k||_,className:"w-full py-2 px-4 bg-gradient-to-r from-green-600 to-green-700 hover:from-green-700 hover:to-green-800 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-all flex items-center justify-center gap-2",children:k?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Adding to Daily Intake..."]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add to Daily Intake"]})})]}),(0,a.jsx)(u,{isVisible:E,foodName:M.name,calories:M.calories,protein:M.protein,carbs:M.carbs,fats:M.fats,onClose:()=>I(!1)})]})};var p=s(9852);function f(e){let{onIntakeAdded:t}=e,[s,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,x]=(0,r.useState)(""),[m,h]=(0,r.useState)(""),[g,f]=(0,r.useState)(!1),[b,y]=(0,r.useState)(""),j=async e=>{if(e.preventDefault(),!s.trim()||!n)return void y("Food name and calories are required");f(!0),y("");try{await i.A.post("/api/intake-history",{foodName:s.trim(),calories:parseInt(n),protein:parseInt(d)||0,carbs:parseInt(u)||0,fats:parseInt(m)||0}),l(""),o(""),c(""),x(""),h(""),t()}catch(e){console.error("Error adding calorie intake:",e),y("Failed to add calorie intake. Please try again.")}finally{f(!1)}};return(0,a.jsxs)("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Add Calorie Intake"}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-green-100 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})})})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-6",children:"Manually add your food intake to track your daily calorie consumption."}),b&&(0,a.jsx)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:b}),(0,a.jsxs)("form",{onSubmit:j,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Food Name *"}),(0,a.jsx)(p.p,{value:s,onChange:e=>l(e.target.value),className:"w-full",placeholder:"e.g., Apple, Chicken Breast, Rice",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calories *"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{value:n,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&o(t)},className:"w-full pr-10",placeholder:"250",required:!0}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"kcal"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Protein (optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{value:d,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&c(t)},className:"w-full pr-10",placeholder:"20"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"g"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Carbs (optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{value:u,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&x(t)},className:"w-full pr-10",placeholder:"30"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"g"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Fats (optional)"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{value:m,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&h(t)},className:"w-full pr-10",placeholder:"10"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 text-sm",children:"g"})]})]})]}),(0,a.jsx)("button",{type:"submit",disabled:g||!s.trim()||!n,className:"w-full bg-gradient-to-r from-green-600 to-green-700 text-white py-3 rounded-xl hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Adding...":"Add to Daily Intake"})]})]})}var b=s(3999);function y(e){let{current:t,goal:s,label:r,unit:l,color:n,burnedCalories:i=0,isNetCalories:o=!1,className:d}=e,u=s>0?Math.min(t/s*100,100):0,x=o?t-i:t,m=o&&s>0?Math.min(x/s*100,100):u,h=o?x>s:t>s,g=o?x<s:t<s;return(0,a.jsxs)("div",{className:(0,b.cn)("space-y-2",d),children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-gray-700",children:r}),o&&i>0&&(0,a.jsxs)("span",{className:"text-xs text-gray-500",children:["(Net: ",x>0?"+":"",x,")"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:(0,b.cn)("text-sm font-semibold",h?"text-red-600":g?"text-gray-600":"text-green-600"),children:Math.round(t)}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:"/"}),(0,a.jsx)("span",{className:"text-sm text-gray-500",children:s}),(0,a.jsx)("span",{className:"text-sm text-gray-400",children:l})]})]}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)("div",{className:"w-full h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,a.jsx)(c.P.div,{initial:{width:0},animate:{width:"".concat(u,"%")},transition:{duration:.8,ease:"easeOut"},className:(0,b.cn)("h-full rounded-full",n,h&&"animate-pulse")})}),o&&i>0&&(0,a.jsxs)("div",{className:"relative mt-1",children:[(0,a.jsx)("div",{className:"w-full h-1 bg-gray-100 rounded-full overflow-hidden",children:(0,a.jsx)(c.P.div,{initial:{width:0},animate:{width:"".concat(Math.max(0,m),"%")},transition:{duration:.8,ease:"easeOut",delay:.2},className:"h-full bg-gradient-to-r from-blue-400 to-blue-500 rounded-full"})}),(0,a.jsxs)("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[(0,a.jsx)("span",{children:"Net Calories"}),(0,a.jsxs)("span",{children:[Math.round(x)," / ",s]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between items-center mt-1",children:[(0,a.jsxs)("span",{className:(0,b.cn)("text-xs font-medium",h?"text-red-600":g?"text-gray-500":"text-green-600"),children:[Math.round(u),"%"]}),h&&(0,a.jsxs)("span",{className:"text-xs text-red-500 font-medium",children:["Over by ",Math.round(t-s)]})]})]})]})}function j(e){let{onCaloriesAdded:t}=e,[s,l]=(0,r.useState)(""),[n,o]=(0,r.useState)(""),[d,c]=(0,r.useState)(""),[u,x]=(0,r.useState)(!1),[m,h]=(0,r.useState)(null),[g]=(0,r.useState)([]),[p,f]=(0,r.useState)(!1),b=async e=>{if(e.preventDefault(),s.trim()&&n){x(!0),h(null);try{await i.A.post("/api/burned-calories",{activity:s.trim(),calories:parseInt(n),duration:d?parseInt(d):void 0}),l(""),o(""),c(""),f(!1),t&&t()}catch(t){let e="Failed to add burned calories";if(t&&"object"==typeof t&&"response"in t){var a,r;e=(null==(r=t.response)||null==(a=r.data)?void 0:a.error)||e}else t instanceof Error&&(e=t.message);h(e)}finally{x(!1)}}};return(0,a.jsxs)("div",{className:"bg-white rounded-2xl p-6 shadow-sm",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Burned Calories"}),(0,a.jsx)("button",{onClick:()=>f(!p),className:"px-3 py-1 text-sm bg-orange-100 text-orange-700 rounded-lg hover:bg-orange-200 transition-colors",children:p?"Cancel":"Add Activity"})]}),!p&&(0,a.jsxs)("div",{className:"mb-4",children:[(0,a.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:"Quick add:"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:[{name:"Walking (30 min)",calories:150},{name:"Running (30 min)",calories:300},{name:"Cycling (30 min)",calories:250},{name:"Swimming (30 min)",calories:350},{name:"Weight Training",calories:200},{name:"Yoga",calories:100}].map((e,t)=>(0,a.jsxs)("button",{onClick:()=>{l(e.name),o(e.calories.toString()),f(!0)},className:"p-2 text-xs bg-gray-50 hover:bg-gray-100 rounded-lg text-gray-700 transition-colors",children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-orange-600",children:[e.calories," cal"]})]},t))})]}),p&&(0,a.jsxs)("form",{onSubmit:b,className:"space-y-4 mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity"}),(0,a.jsx)("input",{type:"text",value:s,onChange:e=>l(e.target.value),placeholder:"e.g., Running, Walking, Swimming...",className:"w-full px-3 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Calories Burned"}),(0,a.jsx)("input",{type:"number",value:n,onChange:e=>o(e.target.value),placeholder:"300",min:"0",max:"5000",className:"w-full px-3 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Duration (minutes)"}),(0,a.jsx)("input",{type:"number",value:d,onChange:e=>c(e.target.value),placeholder:"30",min:"0",max:"1440",className:"w-full px-3 py-2 rounded-xl border border-gray-300 focus:outline-none focus:ring-2 focus:ring-orange-500 focus:border-orange-500"})]})]}),m&&(0,a.jsx)("div",{className:"text-sm text-red-600 bg-red-50 p-2 rounded-lg",children:m}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)("button",{type:"submit",disabled:u,className:"flex-1 py-2 px-4 bg-orange-600 hover:bg-orange-700 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:u?"Adding...":"Add Activity"}),(0,a.jsx)("button",{type:"button",onClick:()=>{f(!1),l(""),o(""),c(""),h(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"})]})]}),g.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:"Today's Activities"}),(0,a.jsx)("div",{className:"space-y-2",children:g.map(e=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-2 bg-orange-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.activity}),e.duration&&(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.duration," minutes"]})]}),(0,a.jsxs)("div",{className:"text-orange-600 font-semibold",children:["-",e.calories," cal"]})]},e.id))})]})]})}function v(){let{user:e,isLoaded:t}=(0,l.Jd)(),[s,i]=(0,r.useState)(""),[o,d]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[x,m]=(0,r.useState)("sedentary"),[h,b]=(0,r.useState)(""),[v,N]=(0,r.useState)(!1),[w,k]=(0,r.useState)(null),[C,_]=(0,r.useState)([]),[P,A]=(0,r.useState)([]),[S,E]=(0,r.useState)(0),I=(0,r.useCallback)(async()=>{var t,s,a,r;if(!e){k(null),_([]),A([]),E(0);return}try{let e=await n.A.get("/profile");if(e.data.profile){let r=e.data.profile;i((null==(t=r.age)?void 0:t.toString())||""),d((null==(s=r.weight)?void 0:s.toString())||""),u((null==(a=r.height)?void 0:a.toString())||""),m(r.activityLevel||"sedentary")}let r=await n.A.get("/daily-goals");r.data.dailyGoal&&(k(r.data.dailyGoal),b(r.data.dailyGoal.calories.toString()));let l=await n.A.get("/intake-history");l.data.intakeHistory&&_(l.data.intakeHistory);let o=await n.A.get("/burned-calories");o.data.burnedCalories&&A(o.data.burnedCalories),void 0!==o.data.totalBurned&&E(o.data.totalBurned)}catch(e){if((null==(r=e.response)?void 0:r.status)===401){console.log("User not authenticated, clearing data"),k(null),_([]),A([]),E(0);return}console.error("Error loading user data:",e),k(null),_([]),A([]),E(0)}},[e]);(0,r.useEffect)(()=>{t&&e?I():t&&!e&&(k(null),_([]),A([]),E(0),i(""),d(""),u(""),m("sedentary"),b(""))},[t,e,I]);let M=async()=>{if(!s||!o||!c||!x)return;N(!0);let t=parseFloat(s),a=parseFloat(o),r=parseFloat(c),l=1.2;switch(x){case"light":l=1.375;break;case"moderate":l=1.55;break;case"active":l=1.725;break;case"very-active":l=1.9}let i=Math.round((66+13.7*a+5*r-6.8*t)*l);if(b(i.toString()),e)try{await n.A.post("/daily-goals",{calories:i,protein:Math.round(.3*i/4),carbs:Math.round(.45*i/4),fats:Math.round(.25*i/9)}),await I()}catch(e){console.error("Error saving daily goals:",e)}N(!1)};return v?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"space-y-4 text-center",children:[(0,a.jsx)("div",{className:"animate-spin h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Calculating your daily needs..."})]})}):(0,a.jsx)("div",{className:"min-h-screen bg-gradient-to-b from-purple-50 to-white",children:(0,a.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-8",children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Daily Calorie Calculator"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Calculate your daily needs"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)("div",{className:"bg-white rounded-2xl shadow-sm",children:(0,a.jsxs)("div",{className:"p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Daily Calculator"}),(0,a.jsx)("div",{className:"w-12 h-12 rounded-full bg-purple-100 flex items-center justify-center",children:(0,a.jsx)("svg",{className:"w-6 h-6 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,a.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})})})]}),(0,a.jsx)("p",{className:"text-gray-600 mb-8",children:"Calculate your daily calorie needs based on your activity level and goals."}),(0,a.jsxs)("form",{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Age"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{value:s,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&(t.length>3||t.length>0&&"0"===t[0]||i(t))},className:"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 pr-10",placeholder:"Enter your age"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"years"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Weight"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{value:o,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&(t.length>3||t.length>0&&"0"===t[0]||d(t))},className:"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 pr-10",placeholder:"Enter your weight"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"kg"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Height"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(p.p,{value:c,onChange:e=>{let t=e.target.value;/^\d*$/.test(t)&&(t.length>3||t.length>0&&"0"===t[0]||u(t))},className:"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500 pr-10",placeholder:"Enter your height"}),(0,a.jsx)("span",{className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500",children:"cm"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity Level"}),(0,a.jsxs)("select",{value:x,onChange:e=>m(e.target.value),className:"w-full px-4 py-3 rounded-xl bg-white border border-gray-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-purple-500",children:[(0,a.jsx)("option",{value:"sedentary",children:"Sedentary (little or no exercise)"}),(0,a.jsx)("option",{value:"light",children:"Light exercise (1-3 days/week)"}),(0,a.jsx)("option",{value:"moderate",children:"Moderate exercise (3-5 days/week)"}),(0,a.jsx)("option",{value:"active",children:"Heavy exercise (6-7 days/week)"}),(0,a.jsx)("option",{value:"very-active",children:"Very heavy exercise (twice/day)"})]})]}),(0,a.jsx)("button",{type:"button",onClick:M,className:"w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white py-3 rounded-xl hover:opacity-90 transition-all disabled:opacity-50 disabled:cursor-not-allowed",disabled:v,children:v?"Calculating...":"Calculate Calories"}),h&&(0,a.jsxs)("div",{className:"mt-6 p-4 bg-purple-50 rounded-xl",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Your Daily Calorie Needs"}),(0,a.jsxs)("div",{className:"text-2xl font-bold text-purple-600",children:[h," kcal/day"]})]})]})]})})}),(0,a.jsxs)("div",{className:"lg:col-span-2 space-y-8",children:[(0,a.jsx)(f,{onIntakeAdded:I}),(0,a.jsx)(g,{onIntakeAdded:I}),(0,a.jsx)(j,{onCaloriesAdded:I})]})]}),e&&(w||C.length>0||S>0)&&(0,a.jsxs)("div",{className:"mt-8 bg-white rounded-2xl shadow-sm p-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,a.jsx)("h2",{className:"text-2xl font-semibold text-gray-900",children:"Today's Progress"}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-purple-500 rounded-full"}),(0,a.jsx)("span",{children:"Consumed"})]}),S>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-orange-500 rounded-full"}),(0,a.jsx)("span",{children:"Burned"})]}),S>0&&(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-3 h-3 bg-blue-500 rounded-full"}),(0,a.jsx)("span",{children:"Net"})]})]})]}),w&&(0,a.jsxs)("div",{className:"space-y-6 mb-6",children:[(0,a.jsx)(y,{current:C.reduce((e,t)=>e+t.calories,0),goal:w.calories,label:"Calories",color:"bg-gradient-to-r from-purple-500 to-purple-600",unit:" kcal",burnedCalories:S,isNetCalories:!0}),(0,a.jsx)(y,{current:C.reduce((e,t)=>e+t.protein,0),goal:w.protein,label:"Protein",color:"bg-gradient-to-r from-blue-500 to-blue-600",unit:"g"}),(0,a.jsx)(y,{current:C.reduce((e,t)=>e+t.carbs,0),goal:w.carbs,label:"Carbs",color:"bg-gradient-to-r from-green-500 to-green-600",unit:"g"}),(0,a.jsx)(y,{current:C.reduce((e,t)=>e+t.fats,0),goal:w.fats,label:"Fats",color:"bg-gradient-to-r from-orange-500 to-orange-600",unit:"g"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[C.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Food Intake"}),(0,a.jsx)("div",{className:"space-y-2",children:C.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.foodName}),(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.calories," cal • ",e.protein,"g protein • ",e.carbs,"g carbs • ",e.fats,"g fats"]})]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:new Date(e.createdAt).toLocaleTimeString()})]},t))})]}),P.length>0&&(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Today's Activities"}),(0,a.jsx)("div",{className:"space-y-2",children:P.map((e,t)=>(0,a.jsxs)("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium text-gray-900",children:e.activity}),e.duration&&(0,a.jsxs)("div",{className:"text-sm text-gray-600",children:[e.duration," minutes"]})]}),(0,a.jsxs)("div",{className:"text-sm text-orange-600 font-semibold",children:["-",e.calories," cal"]})]},t))})]})]})]})]})})}},6903:(e,t,s)=>{"use strict";s.d(t,{A:()=>r});let a=s(3464).A.create({baseURL:"/api",timeout:1e4});a.interceptors.request.use(e=>e,e=>Promise.reject(e)),a.interceptors.response.use(e=>e,e=>{var t;return(null==e||null==(t=e.response)?void 0:t.status)===401?console.log("Authentication required"):console.error("API Error:",e),Promise.reject(e)});let r=a},9852:(e,t,s)=>{"use strict";s.d(t,{p:()=>l});var a=s(5155);s(2115);var r=s(3999);function l(e){let{className:t,type:s,...l}=e;return(0,a.jsx)("input",{type:s,"data-slot":"input",className:(0,r.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...l})}}},e=>{var t=t=>e(e.s=t);e.O(0,[976,408,692,766,441,684,358],()=>t(4012)),_N_E=e.O()}]);