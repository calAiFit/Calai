{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/lib/api.ts"],"sourcesContent":["import axios from 'axios';\n\n\nconst api = axios.create({\n  baseURL: '/api',\n  timeout: 10000,\n});\n\n\napi.interceptors.request.use(\n  (config) => {\n    \n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    \n    if (error?.response?.status === 401) {\n\n      console.log('Authentication required');\n    } else {\n     \n      console.error('API Error:', error);\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\nexport default api;\n"],"names":[],"mappings":";;;AAAA;;AAGA,MAAM,MAAM,wIAAA,CAAA,UAAK,CAAC,MAAM,CAAC;IACvB,SAAS;IACT,SAAS;AACX;AAGA,IAAI,YAAY,CAAC,OAAO,CAAC,GAAG,CAC1B,CAAC;IAEC,OAAO;AACT,GACA,CAAC;IACC,OAAO,QAAQ,MAAM,CAAC;AACxB;AAIF,IAAI,YAAY,CAAC,QAAQ,CAAC,GAAG,CAC3B,CAAC;IACC,OAAO;AACT,GACA,CAAC;IAEC,IAAI,OAAO,UAAU,WAAW,KAAK;QAEnC,QAAQ,GAAG,CAAC;IACd,OAAO;QAEL,QAAQ,KAAK,CAAC,cAAc;IAC9B;IAEA,OAAO,QAAQ,MAAM,CAAC;AACxB;uCAGa","debugId":null}},
    {"offset": {"line": 41, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/LoadingSpinner.tsx"],"sourcesContent":["'use client';\n\nexport default function LoadingSpinner() {\n  return (\n    <div className=\"flex items-center justify-center min-h-screen\">\n      <div className=\"space-y-4 text-center\">\n        <div className=\"animate-spin h-12 w-12 border-4 border-purple-500 border-t-transparent rounded-full\"></div>\n        <p className=\"text-gray-600\">Loading your profile...</p>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEe,SAAS;IACtB,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BACb,6LAAC;oBAAI,WAAU;;;;;;8BACf,6LAAC;oBAAE,WAAU;8BAAgB;;;;;;;;;;;;;;;;;AAIrC;KATwB","debugId":null}},
    {"offset": {"line": 92, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/ProfileHeader.tsx"],"sourcesContent":["\"use client\";\n\nimport Image from \"next/image\";\nimport { UserResource } from \"@clerk/types\";\n\ninterface ProfileHeaderProps {\n  profile: {\n    name?: string;\n    avatarUrl?: string;\n  } | null;\n  user: UserResource;\n  isEditing: boolean;\n  onToggleEdit: () => void;\n}\n\nexport default function ProfileHeader({ profile, user, isEditing, onToggleEdit }: ProfileHeaderProps) {\n  return (\n    <div className=\"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-8 flex flex-col items-center\">\n      <div className=\"relative w-28 h-28 mb-4\">\n        {profile?.avatarUrl ? (\n          <Image\n            src={profile.avatarUrl}\n            alt=\"Profile\"\n            width={112}\n            height={112}\n            className=\"rounded-full object-cover border-4 border-purple-500 shadow-lg\"\n            unoptimized\n          />\n        ) : (\n          <div className=\"w-28 h-28 rounded-full bg-gradient-to-br from-purple-400 to-blue-400 flex items-center justify-center text-white text-3xl font-bold shadow-lg\">\n            {profile?.name?.charAt(0) || user?.firstName?.charAt(0) || \"U\"}\n          </div>\n        )}\n      </div>\n      <h2 className=\"text-2xl font-bold text-gray-900\">\n        {profile?.name || user?.firstName || \"User\"}\n      </h2>\n      <p className=\"text-gray-600 mb-6\">\n        {user?.emailAddresses[0]?.emailAddress}\n      </p>\n      <button\n        onClick={onToggleEdit}\n        className=\"px-5 py-2 rounded-lg bg-gradient-to-r from-purple-600 to-blue-600 text-white font-medium hover:opacity-90 transition\"\n      >\n        {isEditing ? \"Cancel\" : \"Edit Profile\"}\n      </button>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAee,SAAS,cAAc,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,YAAY,EAAsB;IAClG,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;0BACZ,SAAS,0BACR,6LAAC,gIAAA,CAAA,UAAK;oBACJ,KAAK,QAAQ,SAAS;oBACtB,KAAI;oBACJ,OAAO;oBACP,QAAQ;oBACR,WAAU;oBACV,WAAW;;;;;yCAGb,6LAAC;oBAAI,WAAU;8BACZ,SAAS,MAAM,OAAO,MAAM,MAAM,WAAW,OAAO,MAAM;;;;;;;;;;;0BAIjE,6LAAC;gBAAG,WAAU;0BACX,SAAS,QAAQ,MAAM,aAAa;;;;;;0BAEvC,6LAAC;gBAAE,WAAU;0BACV,MAAM,cAAc,CAAC,EAAE,EAAE;;;;;;0BAE5B,6LAAC;gBACC,SAAS;gBACT,WAAU;0BAET,YAAY,WAAW;;;;;;;;;;;;AAIhC;KAjCwB","debugId":null}},
    {"offset": {"line": 174, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,CAAA,GAAA,8JAAA,CAAA,UAAO,AAAD,EAAE,CAAA,GAAA,wIAAA,CAAA,OAAI,AAAD,EAAE;AACtB","debugId":null}},
    {"offset": {"line": 193, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nfunction Input({ className, type, ...props }: React.ComponentProps<\"input\">) {\n  return (\n    <input\n      type={type}\n      data-slot=\"input\"\n      className={cn(\n        \"file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        \"focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]\",\n        \"aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive\",\n        className\n      )}\n      {...props}\n    />\n  )\n}\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAEA;;;AAEA,SAAS,MAAM,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAsC;IACzE,qBACE,6LAAC;QACC,MAAM;QACN,aAAU;QACV,WAAW,CAAA,GAAA,+GAAA,CAAA,KAAE,AAAD,EACV,mcACA,iFACA,0GACA;QAED,GAAG,KAAK;;;;;;AAGf;KAdS","debugId":null}},
    {"offset": {"line": 225, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/InputField.tsx"],"sourcesContent":["import { Input } from \"@/components/ui/input\";\n\ninterface InputFieldProps {\n  label: string;\n  value: string;\n  onChange: (value: string) => void;\n  type?: string;\n}\n\nexport default function InputField({ label, value, onChange, type = \"text\" }: InputFieldProps) {\n  return (\n    <div>\n      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n        {label}\n      </label>\n      <Input\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        className=\"w-full\"\n        placeholder={`Enter your ${label.toLowerCase()}`}\n        type={type}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAAA;;;AASe,SAAS,WAAW,EAAE,KAAK,EAAE,KAAK,EAAE,QAAQ,EAAE,OAAO,MAAM,EAAmB;IAC3F,qBACE,6LAAC;;0BACC,6LAAC;gBAAM,WAAU;0BACd;;;;;;0BAEH,6LAAC,6HAAA,CAAA,QAAK;gBACJ,OAAO;gBACP,UAAU,CAAC,IAAM,SAAS,EAAE,MAAM,CAAC,KAAK;gBACxC,WAAU;gBACV,aAAa,CAAC,WAAW,EAAE,MAAM,WAAW,IAAI;gBAChD,MAAM;;;;;;;;;;;;AAId;KAfwB","debugId":null}},
    {"offset": {"line": 273, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/ProfileForm.tsx"],"sourcesContent":["\"use client\";\n\nimport InputField from \"./InputField\";\n\ninterface ProfileFormProps {\n  formData: {\n    name: string;\n    age: string;\n    gender: string;\n    height: string;\n    weight: string;\n    targetWeight: string;\n    activityLevel: string;\n  };\n  onInputChange: (field: string, value: string) => void;\n  onSubmit: () => void;\n  onCancel: () => void;\n  submitting: boolean;\n}\n\nexport default function ProfileForm({ \n  formData, \n  onInputChange, \n  onSubmit, \n  onCancel, \n  submitting \n}: ProfileFormProps) {\n  return (\n    <div className=\"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-8 space-y-6\">\n      <h3 className=\"text-xl font-semibold text-gray-900\">Edit Profile</h3>\n      \n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n        <InputField\n          label=\"Name\"\n          value={formData.name}\n          onChange={(v) => onInputChange(\"name\", v)}\n        />\n        <InputField\n          label=\"Age\"\n          type=\"number\"\n          value={formData.age}\n          onChange={(v) => onInputChange(\"age\", v)}\n        />\n        <InputField\n          label=\"Height (cm)\"\n          type=\"number\"\n          value={formData.height}\n          onChange={(v) => onInputChange(\"height\", v)}\n        />\n        <InputField\n          label=\"Weight (kg)\"\n          type=\"number\"\n          value={formData.weight}\n          onChange={(v) => onInputChange(\"weight\", v)}\n        />\n        <InputField\n          label=\"Target Weight (kg)\"\n          type=\"number\"\n          value={formData.targetWeight}\n          onChange={(v) => onInputChange(\"targetWeight\", v)}\n        />\n\n        <div>\n          <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n            Gender\n          </label>\n          <select\n            value={formData.gender}\n            onChange={(e) => onInputChange(\"gender\", e.target.value)}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n          >\n            <option value=\"\">Select gender</option>\n            <option value=\"male\">Male</option>\n            <option value=\"female\">Female</option>\n          </select>\n        </div>\n      </div>\n\n      <div>\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Activity Level\n        </label>\n        <select\n          value={formData.activityLevel}\n          onChange={(e) => onInputChange(\"activityLevel\", e.target.value)}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple-500\"\n        >\n          <option value=\"\">Select activity level</option>\n          <option value=\"sedentary\">Sedentary (little or no exercise)</option>\n          <option value=\"light\">Light (1-3 days/week)</option>\n          <option value=\"moderate\">Moderate (3-5 days/week)</option>\n          <option value=\"active\">Active (6-7 days/week)</option>\n          <option value=\"veryActive\">Very Active (twice/day)</option>\n        </select>\n      </div>\n\n      <div className=\"flex justify-end space-x-4\">\n        <button\n          onClick={onCancel}\n          className=\"px-6 py-2 border border-gray-300 rounded-lg hover:bg-gray-50\"\n        >\n          Cancel\n        </button>\n        <button\n          onClick={onSubmit}\n          disabled={submitting}\n          className=\"px-6 py-2 bg-gradient-to-r from-purple-600 to-blue-600 text-white rounded-lg font-medium hover:opacity-90 transition disabled:opacity-50\"\n        >\n          {submitting ? \"Saving...\" : \"Save Changes\"}\n        </button>\n      </div>\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAoBe,SAAS,YAAY,EAClC,QAAQ,EACR,aAAa,EACb,QAAQ,EACR,QAAQ,EACR,UAAU,EACO;IACjB,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAAsC;;;;;;0BAEpD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,0IAAA,CAAA,UAAU;wBACT,OAAM;wBACN,OAAO,SAAS,IAAI;wBACpB,UAAU,CAAC,IAAM,cAAc,QAAQ;;;;;;kCAEzC,6LAAC,0IAAA,CAAA,UAAU;wBACT,OAAM;wBACN,MAAK;wBACL,OAAO,SAAS,GAAG;wBACnB,UAAU,CAAC,IAAM,cAAc,OAAO;;;;;;kCAExC,6LAAC,0IAAA,CAAA,UAAU;wBACT,OAAM;wBACN,MAAK;wBACL,OAAO,SAAS,MAAM;wBACtB,UAAU,CAAC,IAAM,cAAc,UAAU;;;;;;kCAE3C,6LAAC,0IAAA,CAAA,UAAU;wBACT,OAAM;wBACN,MAAK;wBACL,OAAO,SAAS,MAAM;wBACtB,UAAU,CAAC,IAAM,cAAc,UAAU;;;;;;kCAE3C,6LAAC,0IAAA,CAAA,UAAU;wBACT,OAAM;wBACN,MAAK;wBACL,OAAO,SAAS,YAAY;wBAC5B,UAAU,CAAC,IAAM,cAAc,gBAAgB;;;;;;kCAGjD,6LAAC;;0CACC,6LAAC;gCAAM,WAAU;0CAA+C;;;;;;0CAGhE,6LAAC;gCACC,OAAO,SAAS,MAAM;gCACtB,UAAU,CAAC,IAAM,cAAc,UAAU,EAAE,MAAM,CAAC,KAAK;gCACvD,WAAU;;kDAEV,6LAAC;wCAAO,OAAM;kDAAG;;;;;;kDACjB,6LAAC;wCAAO,OAAM;kDAAO;;;;;;kDACrB,6LAAC;wCAAO,OAAM;kDAAS;;;;;;;;;;;;;;;;;;;;;;;;0BAK7B,6LAAC;;kCACC,6LAAC;wBAAM,WAAU;kCAA+C;;;;;;kCAGhE,6LAAC;wBACC,OAAO,SAAS,aAAa;wBAC7B,UAAU,CAAC,IAAM,cAAc,iBAAiB,EAAE,MAAM,CAAC,KAAK;wBAC9D,WAAU;;0CAEV,6LAAC;gCAAO,OAAM;0CAAG;;;;;;0CACjB,6LAAC;gCAAO,OAAM;0CAAY;;;;;;0CAC1B,6LAAC;gCAAO,OAAM;0CAAQ;;;;;;0CACtB,6LAAC;gCAAO,OAAM;0CAAW;;;;;;0CACzB,6LAAC;gCAAO,OAAM;0CAAS;;;;;;0CACvB,6LAAC;gCAAO,OAAM;0CAAa;;;;;;;;;;;;;;;;;;0BAI/B,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,6LAAC;wBACC,SAAS;wBACT,UAAU;wBACV,WAAU;kCAET,aAAa,cAAc;;;;;;;;;;;;;;;;;;AAKtC;KA7FwB","debugId":null}},
    {"offset": {"line": 524, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/StatCard.tsx"],"sourcesContent":["interface StatCardProps {\n  label: string;\n  value: string | number;\n  color: string;\n}\n\nexport default function StatCard({ label, value, color }: StatCardProps) {\n  return (\n    <div className={`rounded-xl p-6 text-center bg-gradient-to-br ${color} text-white shadow-md`}>\n      <div className=\"text-3xl font-bold mb-1\">{value}</div>\n      <div className=\"text-sm\">{label}</div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAMe,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAiB;IACrE,qBACE,6LAAC;QAAI,WAAW,CAAC,6CAA6C,EAAE,MAAM,qBAAqB,CAAC;;0BAC1F,6LAAC;gBAAI,WAAU;0BAA2B;;;;;;0BAC1C,6LAAC;gBAAI,WAAU;0BAAW;;;;;;;;;;;;AAGhC;KAPwB","debugId":null}},
    {"offset": {"line": 568, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/InfoCard.tsx"],"sourcesContent":["interface InfoCardProps {\n  title: string;\n  value: string | number;\n  description: string;\n}\n\nexport default function InfoCard({ title, value, description }: InfoCardProps) {\n  return (\n    <div className=\"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-6\">\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-3\">{title}</h3>\n      <div className=\"text-2xl font-bold text-gray-800 mb-1\">{value}</div>\n      <p className=\"text-sm text-gray-600\">{description}</p>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAMe,SAAS,SAAS,EAAE,KAAK,EAAE,KAAK,EAAE,WAAW,EAAiB;IAC3E,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAG,WAAU;0BAA4C;;;;;;0BAC1D,6LAAC;gBAAI,WAAU;0BAAyC;;;;;;0BACxD,6LAAC;gBAAE,WAAU;0BAAyB;;;;;;;;;;;;AAG5C;KARwB","debugId":null}},
    {"offset": {"line": 620, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/WeightProgress.tsx"],"sourcesContent":["\"use client\";\n\nimport { motion } from \"framer-motion\";\n\ninterface WeightProgressProps {\n  currentWeight: number;\n  targetWeight: number;\n}\n\nexport default function WeightProgress({ currentWeight, targetWeight }: WeightProgressProps) {\n  const progressPercentage = Math.min(\n    100,\n    Math.max(\n      0,\n      ((currentWeight - targetWeight) / Math.abs(currentWeight - targetWeight + 0.1)) * 50 + 50\n    )\n  );\n\n  const weightDifference = Math.abs(currentWeight - targetWeight);\n  const isLosing = currentWeight > targetWeight;\n\n  return (\n    <motion.div\n      initial={{ opacity: 0, y: 20 }}\n      animate={{ opacity: 1, y: 0 }}\n      transition={{ duration: 0.6 }}\n      className=\"backdrop-blur-md bg-white/70 rounded-2xl shadow-xl p-8\"\n    >\n      <h3 className=\"text-lg font-semibold text-gray-900 mb-4\">Weight Progress</h3>\n      <div className=\"space-y-2\">\n        <div className=\"flex justify-between text-sm text-gray-600\">\n          <span>Current: {currentWeight}kg</span>\n          <span>Target: {targetWeight}kg</span>\n        </div>\n        <div className=\"w-full bg-gray-200 rounded-full h-3 overflow-hidden\">\n          <motion.div\n            initial={{ width: 0 }}\n            animate={{ width: `${progressPercentage}%` }}\n            transition={{ duration: 1 }}\n            className=\"bg-gradient-to-r from-purple-500 to-blue-500 h-3 rounded-full\"\n          />\n        </div>\n        <div className=\"text-sm text-gray-600 text-center\">\n          {isLosing\n            ? `${weightDifference.toFixed(1)}kg to lose`\n            : `${weightDifference.toFixed(1)}kg to gain`}\n        </div>\n      </div>\n    </motion.div>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;;AASe,SAAS,eAAe,EAAE,aAAa,EAAE,YAAY,EAAuB;IACzF,MAAM,qBAAqB,KAAK,GAAG,CACjC,KACA,KAAK,GAAG,CACN,GACA,AAAC,CAAC,gBAAgB,YAAY,IAAI,KAAK,GAAG,CAAC,gBAAgB,eAAe,OAAQ,KAAK;IAI3F,MAAM,mBAAmB,KAAK,GAAG,CAAC,gBAAgB;IAClD,MAAM,WAAW,gBAAgB;IAEjC,qBACE,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;QACT,SAAS;YAAE,SAAS;YAAG,GAAG;QAAG;QAC7B,SAAS;YAAE,SAAS;YAAG,GAAG;QAAE;QAC5B,YAAY;YAAE,UAAU;QAAI;QAC5B,WAAU;;0BAEV,6LAAC;gBAAG,WAAU;0BAA2C;;;;;;0BACzD,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC;;oCAAK;oCAAU;oCAAc;;;;;;;0CAC9B,6LAAC;;oCAAK;oCAAS;oCAAa;;;;;;;;;;;;;kCAE9B,6LAAC;wBAAI,WAAU;kCACb,cAAA,6LAAC,6LAAA,CAAA,SAAM,CAAC,GAAG;4BACT,SAAS;gCAAE,OAAO;4BAAE;4BACpB,SAAS;gCAAE,OAAO,GAAG,mBAAmB,CAAC,CAAC;4BAAC;4BAC3C,YAAY;gCAAE,UAAU;4BAAE;4BAC1B,WAAU;;;;;;;;;;;kCAGd,6LAAC;wBAAI,WAAU;kCACZ,WACG,GAAG,iBAAiB,OAAO,CAAC,GAAG,UAAU,CAAC,GAC1C,GAAG,iBAAiB,OAAO,CAAC,GAAG,UAAU,CAAC;;;;;;;;;;;;;;;;;;AAKxD;KAzCwB","debugId":null}},
    {"offset": {"line": 744, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/components/ProfileDisplay.tsx"],"sourcesContent":["\"use client\";\n\nimport StatCard from \"./StatCard\";\nimport InfoCard from \"./InfoCard\";\nimport WeightProgress from \"./WeightProgress\";\n\ninterface ProfileData {\n  id: string;\n  name: string;\n  age?: number;\n  gender?: string;\n  height?: number;\n  weight?: number;\n  targetWeight?: number;\n  activityLevel?: string;\n  avatarUrl: string;\n  userId: string;\n}\n\ninterface ProfileDisplayProps {\n  profile: ProfileData | null;\n}\n\nexport default function ProfileDisplay({ profile }: ProfileDisplayProps) {\n  const calculateBMI = () => {\n    if (!profile?.weight || !profile?.height) return null;\n    return (profile.weight / (profile.height / 100) ** 2).toFixed(1);\n  };\n\n  const getBMIDescription = (bmi: string | null) => {\n    if (!bmi) return \"Enter height & weight to calculate BMI\";\n    \n    const bmiValue = parseFloat(bmi);\n    if (bmiValue < 18.5) return \"Underweight\";\n    if (bmiValue < 25) return \"Normal weight\";\n    if (bmiValue < 30) return \"Overweight\";\n    return \"Obese\";\n  };\n\n  const getActivityDescription = (level?: string) => {\n    switch (level) {\n      case \"sedentary\": return \"Little or no exercise\";\n      case \"light\": return \"Light exercise 1-3 days/week\";\n      case \"moderate\": return \"Moderate exercise 3-5 days/week\";\n      case \"active\": return \"Heavy exercise 6-7 days/week\";\n      case \"veryActive\": return \"Very heavy exercise twice/day\";\n      default: return \"\";\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"grid grid-cols-2 md:grid-cols-4 gap-6\">\n        <StatCard\n          label=\"Age\"\n          value={profile?.age || \"N/A\"}\n          color=\"from-purple-500 to-pink-500\"\n        />\n        <StatCard\n          label=\"Height\"\n          value={profile?.height ? `${profile.height} cm` : \"N/A\"}\n          color=\"from-blue-500 to-indigo-500\"\n        />\n        <StatCard\n          label=\"Weight\"\n          value={profile?.weight ? `${profile.weight} kg` : \"N/A\"}\n          color=\"from-green-500 to-emerald-500\"\n        />\n        <StatCard\n          label=\"Target\"\n          value={profile?.targetWeight ? `${profile.targetWeight} kg` : \"N/A\"}\n          color=\"from-orange-500 to-red-500\"\n        />\n      </div>\n\n      <div className=\"grid md:grid-cols-2 gap-6\">\n        <InfoCard\n          title=\"BMI\"\n          value={calculateBMI() || \"N/A\"}\n          description={getBMIDescription(calculateBMI())}\n        />\n        <InfoCard\n          title=\"Activity Level\"\n          value={profile?.activityLevel?.replace(/([A-Z])/g, \" $1\").trim() || \"Not set\"}\n          description={getActivityDescription(profile?.activityLevel)}\n        />\n      </div>\n\n      {profile?.weight && profile?.targetWeight && (\n        <WeightProgress\n          currentWeight={profile.weight}\n          targetWeight={profile.targetWeight}\n        />\n      )}\n    </div>\n  );\n}"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAJA;;;;;AAuBe,SAAS,eAAe,EAAE,OAAO,EAAuB;IACrE,MAAM,eAAe;QACnB,IAAI,CAAC,SAAS,UAAU,CAAC,SAAS,QAAQ,OAAO;QACjD,OAAO,CAAC,QAAQ,MAAM,GAAG,CAAC,QAAQ,MAAM,GAAG,GAAG,KAAK,CAAC,EAAE,OAAO,CAAC;IAChE;IAEA,MAAM,oBAAoB,CAAC;QACzB,IAAI,CAAC,KAAK,OAAO;QAEjB,MAAM,WAAW,WAAW;QAC5B,IAAI,WAAW,MAAM,OAAO;QAC5B,IAAI,WAAW,IAAI,OAAO;QAC1B,IAAI,WAAW,IAAI,OAAO;QAC1B,OAAO;IACT;IAEA,MAAM,yBAAyB,CAAC;QAC9B,OAAQ;YACN,KAAK;gBAAa,OAAO;YACzB,KAAK;gBAAS,OAAO;YACrB,KAAK;gBAAY,OAAO;YACxB,KAAK;gBAAU,OAAO;YACtB,KAAK;gBAAc,OAAO;YAC1B;gBAAS,OAAO;QAClB;IACF;IAEA,qBACE,6LAAC;QAAI,WAAU;;0BACb,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,wIAAA,CAAA,UAAQ;wBACP,OAAM;wBACN,OAAO,SAAS,OAAO;wBACvB,OAAM;;;;;;kCAER,6LAAC,wIAAA,CAAA,UAAQ;wBACP,OAAM;wBACN,OAAO,SAAS,SAAS,GAAG,QAAQ,MAAM,CAAC,GAAG,CAAC,GAAG;wBAClD,OAAM;;;;;;kCAER,6LAAC,wIAAA,CAAA,UAAQ;wBACP,OAAM;wBACN,OAAO,SAAS,SAAS,GAAG,QAAQ,MAAM,CAAC,GAAG,CAAC,GAAG;wBAClD,OAAM;;;;;;kCAER,6LAAC,wIAAA,CAAA,UAAQ;wBACP,OAAM;wBACN,OAAO,SAAS,eAAe,GAAG,QAAQ,YAAY,CAAC,GAAG,CAAC,GAAG;wBAC9D,OAAM;;;;;;;;;;;;0BAIV,6LAAC;gBAAI,WAAU;;kCACb,6LAAC,wIAAA,CAAA,UAAQ;wBACP,OAAM;wBACN,OAAO,kBAAkB;wBACzB,aAAa,kBAAkB;;;;;;kCAEjC,6LAAC,wIAAA,CAAA,UAAQ;wBACP,OAAM;wBACN,OAAO,SAAS,eAAe,QAAQ,YAAY,OAAO,UAAU;wBACpE,aAAa,uBAAuB,SAAS;;;;;;;;;;;;YAIhD,SAAS,UAAU,SAAS,8BAC3B,6LAAC,8IAAA,CAAA,UAAc;gBACb,eAAe,QAAQ,MAAM;gBAC7B,cAAc,QAAQ,YAAY;;;;;;;;;;;;AAK5C;KAzEwB","debugId":null}},
    {"offset": {"line": 887, "column": 0}, "map": {"version":3,"sources":["file:///Users/dorjotgoo/Desktop/Calai/frontend/src/app/profile/page.tsx"],"sourcesContent":["\"use client\";\n\nimport { useUser, SignIn } from \"@clerk/nextjs\";\nimport { useRouter } from \"next/navigation\";\nimport { useEffect, useState, useCallback } from \"react\";\nimport api from \"../lib/api\";\nimport LoadingSpinner from \"../components/LoadingSpinner\";\nimport ProfileHeader from \"../components/ProfileHeader\";\nimport ProfileForm from \"../components/ProfileForm\";\nimport ProfileDisplay from \"../components/ProfileDisplay\";\nimport { motion } from \"framer-motion\";\n\ninterface ProfileData {\n  id: string;\n  name: string;\n  age?: number;\n  gender?: string;\n  height?: number;\n  weight?: number;\n  targetWeight?: number;\n  activityLevel?: string;\n  avatarUrl: string;\n  userId: string;\n}\n\nexport default function ProfilePage() {\n  const { user, isLoaded } = useUser();\n  const router = useRouter();\n\n  const [loading, setLoading] = useState(true);\n  const [submitting, setSubmitting] = useState(false);\n  const [profile, setProfile] = useState<ProfileData | null>(null);\n  const [error, setError] = useState<string | null>(null);\n  const [isEditing, setIsEditing] = useState(false);\n  const [formData, setFormData] = useState({\n    name: \"\",\n    age: \"\",\n    gender: \"\",\n    height: \"\",\n    weight: \"\",\n    targetWeight: \"\",\n    activityLevel: \"\",\n  });\n\n  const fetchProfile = useCallback(async () => {\n    try {\n      const res = await api.get(\"/profile\");\n      if (res.data.profile) {\n        const profileData = res.data.profile;\n        setProfile(profileData);\n        setFormData({\n          name: profileData.name || user?.firstName || \"\",\n          age: profileData.age?.toString() || \"\",\n          gender: profileData.gender || \"\",\n          height: profileData.height?.toString() || \"\",\n          weight: profileData.weight?.toString() || \"\",\n          targetWeight: profileData.targetWeight?.toString() || \"\",\n          activityLevel: profileData.activityLevel || \"\",\n        });\n      }\n    } catch (err: unknown) {\n      const errorObj = err as { response?: { status: number } };\n      console.error(\"Error fetching profile:\", err);\n      \n      if (errorObj.response?.status === 401) {\n        router.push(\"/sign-in\");\n        return;\n      }\n      \n      setError(\"Failed to load profile data\");\n    } finally {\n      setLoading(false);\n    }\n  }, [user, router]);\n\n  useEffect(() => {\n    if (!isLoaded) return;\n    if (!user) {\n      router.push(\"/sign-in\");\n      return;\n    }\n    fetchProfile();\n  }, [isLoaded, user, router, fetchProfile]);\n\n  const handleInputChange = (field: string, value: string) => {\n    setFormData((prev) => ({ ...prev, [field]: value }));\n  };\n\n  const handleSave = async () => {\n    setError(null);\n    setSubmitting(true);\n\n    try {\n      const validationErrors: string[] = [];\n      if (!formData.name.trim()) validationErrors.push(\"Name is required.\");\n      if (!formData.age || isNaN(Number(formData.age)))\n        validationErrors.push(\"Valid age is required.\");\n      if (!formData.height || isNaN(Number(formData.height)))\n        validationErrors.push(\"Valid height is required.\");\n      if (!formData.weight || isNaN(Number(formData.weight)))\n        validationErrors.push(\"Valid weight is required.\");\n      if (!formData.targetWeight || isNaN(Number(formData.targetWeight)))\n        validationErrors.push(\"Valid target weight is required.\");\n      if (!formData.gender) validationErrors.push(\"Gender is required.\");\n      if (!formData.activityLevel)\n        validationErrors.push(\"Activity level is required.\");\n\n      if (validationErrors.length > 0) {\n        setError(validationErrors.join(\" \"));\n        setSubmitting(false);\n        return;\n      }\n\n      const payload = {\n        name: formData.name,\n        age: Number(formData.age),\n        height: Number(formData.height),\n        weight: Number(formData.weight),\n        targetWeight: Number(formData.targetWeight),\n        gender: formData.gender as \"male\" | \"female\",\n        activityLevel: formData.activityLevel as\n          | \"sedentary\"\n          | \"light\"\n          | \"moderate\"\n          | \"active\"\n          | \"veryActive\",\n      };\n\n      const res = await api.post(\"/profile\", payload);\n      if (res.data.profile) {\n        setProfile(res.data.profile);\n        setIsEditing(false);\n        await fetchProfile();\n      }\n    } catch (err) {\n      console.error(\"Error updating profile:\", err);\n      setError(\"Failed to update profile. Please try again.\");\n    } finally {\n      setSubmitting(false);\n    }\n  };\n\n\n  if (!user) return <SignIn redirectUrl=\"/profile\" />;\n\n  if (loading) return <LoadingSpinner />;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-purple-100 via-blue-50 to-indigo-100\">\n      <div className=\"max-w-6xl mx-auto px-6 py-10 grid lg:grid-cols-3 gap-8\">\n        <motion.div\n          initial={{ opacity: 0, x: -40 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ duration: 0.5 }}\n          className=\"lg:col-span-1\"\n        >\n          <ProfileHeader\n            profile={profile}\n            user={user}\n            isEditing={isEditing}\n            onToggleEdit={() => setIsEditing(!isEditing)}\n          />\n        </motion.div>\n\n        <motion.div\n          initial={{ opacity: 0, x: 40 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ duration: 0.6 }}\n          className=\"lg:col-span-2 space-y-8\"\n        >\n          {error && (\n            <div className=\"p-4 bg-red-50 border border-red-200 rounded-lg text-red-700\">\n              {error}\n            </div>\n          )}\n\n          {isEditing ? (\n            <ProfileForm\n              formData={formData}\n              onInputChange={handleInputChange}\n              onSubmit={handleSave}\n              onCancel={() => setIsEditing(false)}\n              submitting={submitting}\n            />\n          ) : (\n            <ProfileDisplay profile={profile} />\n          )}\n        </motion.div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}